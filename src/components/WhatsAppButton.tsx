
import React from "react";
import { cn } from "@/lib/utils";

interface WhatsAppButtonProps {
  phoneNumber: string;
  message?: string;
}

const WhatsAppButton = ({ 
  phoneNumber,
  message = "Hello, I'm interested in your audio installation services."
}: WhatsAppButtonProps) => {
  const formattedPhone = phoneNumber.replace(/\D/g, "");
  const encodedMessage = encodeURIComponent(message);
  const whatsappUrl = `https://wa.me/${formattedPhone}?text=${encodedMessage}`;
  
  return (
    <a
      href={whatsappUrl}
      target="_blank"
      rel="noopener noreferrer"
      className={cn(
        "fixed bottom-8 right-8 z-50 flex items-center justify-center",
        "w-14 h-14 bg-[#25D366] rounded-full shadow-lg hover:scale-110",
        "transition-all duration-300 animate-subtle-bounce"
      )}
      aria-label="Contact on WhatsApp"
    >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="28px" height="28px" fill="#ffffff">
        <path d="M 24 4 C 12.972066 4 4 12.972074 4 24 C 4 35.027926 12.972066 44 24 44 C 35.027934 44 44 35.027926 44 24 C 44 12.972074 35.027934 4 24 4 z M 24 7 C 33.406615 7 41 14.593391 41 24 C 41 33.406609 33.406615 41 24 41 C 20.216271 41 16.739797 39.752881 13.990234 37.675781 L 13.373047 37.199219 L 8.6289062 38.285156 L 9.7148438 33.541016 L 9.2382812 32.923828 C 7.1610508 30.174255 5.9140625 26.697829 5.9140625 23 C 5.9140625 14.593391 13.507385 7 24 7 z M 16.642578 13.017578 C 16.291578 13.017578 15.796344 13.143656 15.402344 13.597656 C 15.008344 14.050656 14 15.001328 14 16.861328 C 14 18.720328 15.331063 20.579141 15.539062 20.869141 C 15.748063 21.158141 18.015328 24.906922 21.861328 26.669922 C 25.708328 28.432922 25.708328 27.855469 26.736328 27.855469 C 27.764328 27.855469 29.425391 26.904797 29.775391 25.966797 C 30.125391 25.029797 30.125391 24.216797 30.025391 24.091797 C 29.883391 23.903797 29.570875 23.812094 29.171875 23.621094 C 28.772875 23.430094 26.917969 22.479422 26.542969 22.357422 C 26.159969 22.227422 25.881781 22.162109 25.550781 22.662109 C 25.235781 23.178109 24.430469 23.965828 24.105469 24.298828 C 23.780469 24.630828 23.572172 24.655766 23.076172 24.384766 C 22.530172 24.077766 21.215484 23.642109 19.771484 22.287109 C 18.657484 21.234109 17.905422 19.930953 17.607422 19.376953 C 17.308422 18.821953 17.586328 18.532922 17.736328 18.419922 C 17.886328 18.306922 18.067844 18.112703 18.214844 17.845703 C 18.361844 17.578703 18.443312 17.387844 18.570312 17.089844 C 18.697313 16.791844 18.635297 16.508062 18.529297 16.289062 C 18.423297 16.071062 17.714156 14.212938 17.285156 13.085938 C 16.928656 12.149938 16.642578 13.017578 16.642578 13.017578 z"></path>
      </svg>
      <span className="absolute -top-2 -right-2 flex h-5 w-5 items-center justify-center rounded-full bg-white text-xs font-bold text-[#25D366]">
        1
      </span>
    </a>
  );
};

export default WhatsAppButton;
